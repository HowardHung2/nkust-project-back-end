{% extends "base_generic.html" %}
{% block content %}
<div class="container py-5">
  <h2 class="mb-4">üßë‚Äçüíª User Profile</h2>

  <div class="card p-4">
    <h5 class="mb-2">Username: {{ user.username }}</h5>
    <p>Email: {{ user.email }}</p>

    <hr>
    <h5>XRPL Wallet Info</h5>
    <p><strong>Address:</strong> {{ profile.xrpl_address }}</p>
    <p><strong>Seed:</strong> <code>{{ profile.xrpl_seed }}</code></p>

    {% if xrpl_data %}
      <p><strong>XRP Balance:</strong> {{ xrpl_data.Balance|floatformat:-6 }} XRP</p>
      <p><strong>Account Sequence:</strong> {{ xrpl_data.Sequence }}</p>
    {% else %}
      <p class="text-danger">‚ùå Failed to load XRPL info.</p>
    {% endif %}

        <hr>
    <h5 class="mt-4">üì¶ XRPL NFTs on Chain</h5>

    {% if xrpl_nfts %}
      <ul class="list-group">
        {% for nft in xrpl_nfts %}
          <li class="list-group-item">
            ID: <code>{{ nft.NFTokenID }}</code><br>
            URI: {{ nft.URI|default:"-"|safe }}<br>
            Flags: {{ nft.Flags }} | Taxon: {{ nft.NFTokenTaxon }}
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p class="text-muted">No on-chain NFTs found for this account.</p>
    {% endif %}

  </div>
</div>
{% endblock %}
